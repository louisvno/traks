<div id="app-container">
  <div id="map-container" appMap></div>
<div *ngIf="trkModel | async as model">
  <mat-expansion-panel id='track-info-panel'>
  <mat-expansion-panel-header>
    <mat-panel-title>
      {{model.title}}
    </mat-panel-title>
  </mat-expansion-panel-header>
  <mat-tab-group animationDuration="0ms">
    <mat-tab label="Description">{{model.description}}</mat-tab>
    <mat-tab label="Profile">
      <ng-template matTabContent>
      <div id='chart-container'>
      <ngx-charts-line-chart
      id="profile"
      [autoScale]="true"
      [xAxis]="true"
      [yAxis]= "true"
      [gradient]= "false"
      [results]="model.profile"></ngx-charts-line-chart>
    </div>
    </ng-template>
    </mat-tab>
    <mat-tab label="Data">
      <ul class="data-list">
        <li>distance: {{model.totalDistance | number:'1.1-2'}} km</li>
        <li>min. elevation: {{model.minElevation | number:'1.0-0'}} m</li>
        <li>max. elevation: {{model.maxElevation | number:'1.0-0'}} m</li>
      </ul>
      
      <mat-divider></mat-divider>
      <div class="download-area">
        <button mat-button color="primary">Download .gpx</button> 
      </div>
    </mat-tab>
  </mat-tab-group>
  </mat-expansion-panel>
</div>
</div>
